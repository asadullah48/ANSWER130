#! usr/bin/env node
import inquirer from "inquirer";
import chalk from "chalk";
import chalkAnimation from 'chalk-animation'


// console.log(chalk.redBright('Two number calculator with four basic operations'))
// function title() {console.log(chalkAnimation.rainbow('TWO DIGIT BASIC CALCULATOR? \n'))};
let num1; 
let num2;

const userInput = [
    {
        name: 'number1',
        type: 'number',
        message: 'Enter your first number:',
        default(){
            return num1;},  
    },
            
        {
        name: 'number2',
        type: 'number',
        message: 'Enter your second number:', 
        default(){
            return num2;} 
    },
       {
        name: 'operator',
        type: 'list',
        message: 'What operations do you want?',
        choices: ['Multiply','Addition','Subtract','Divide'], 
        default(){
            return;}
    },
   
]; 
async function output() {
    try{
    const answers = await inquirer.prompt(userInput)
    //  console.log(answers.number1, answers.operator)
      if (answers.operator === 'Multiply') {
        console.log(chalk.blue('Result is:', answers.number1 * answers.number2));
    } else if (answers.operator === 'Addition') {
        console.log(chalk.green('Result is:', answers.number1 + answers.number2));
    } else if (answers.operator === 'Subtract') {
        console.log(chalk.red('Result is:', answers.number1 - answers.number2));
    } else if (answers.operator === 'Divide') {
        console.log(chalk.yellow('Result is:', answers.number1 / answers.number2));
    }

    // return answers;

    //repeat with callback
    //    async function repeat(redo){
           
        const repeat = async redo =>{
        const ans= await inquirer.prompt(
         {
          name:'doagain',
          type:'input',
          message:'Want to re-Do? yes/no',
          choices: ['Yes', 'No']
          });
                    
           if((ans.doagain === 'yes')||(ans.doagain === 'y')||(ans.doagain === 'Yes')||(ans.doagain === 'YES')){
                console.log(ans.doagain);
                console.log('Starting overr...')      
                redo();
            } else if ((ans.doagain === "no")||(ans.doagain === "n")||(ans.doagain === "No")||(ans.doagain === "NO"))
                {console.log('Exiting...')
                process.exit();

            } else(console.log('End'))
              
        }   
            
           await repeat(output);  
          
}  
 catch(error){console.log(error)} 
}
console.clear();
await output();


